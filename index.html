<!DOCTYPE html>
<html>
<head>
    <title>Openfront Console</title>
    <script>
        // Register the "Ghost" Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then(() => {
                console.log("Service Worker Active: Bypassing White Screen...");
            });
        }

        function launch() {
            const frame = document.getElementById('viewer');
            const target = "https://openfront.io/";
            // We use a base-tag injection to help the JS find its files
            frame.srcdoc = `<html><head><base href="${target}"></head><body><script>location.href="${target}"<\/script></body></html>`;
        }
    </script>
    <style>
        body { margin: 0; background: #000; display: flex; flex-direction: column; height: 100vh; }
        button { padding: 15px; background: #2563eb; color: #fff; border: none; font-weight: bold; cursor: pointer; }
        iframe { flex: 1; border: none; background: #fff; }
    </style>
</head>
<body>
    <button onclick="launch()">Initialize Openfront</button>
    <iframe id="viewer"></iframe>
</body>
</html>
